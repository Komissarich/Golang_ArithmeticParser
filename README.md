# Асинхронный арифметический калькулятор для курса по Golang от Яндекса

## Содержание
- [Описание](#Описание)
- [Установка](#установка)
- [Запуск](#запуск)
- [Работа](#Работа)
- [Конфигурирование](#Конфигурирование)
- [Тестирование](#Тестирование)


## Описание

Back-end
Состоит из 2 элементов:

Сервер(оркестратор), который принимает арифметическое выражение, переводит его в набор последовательных задач и обеспечивает порядок их выполнения.
Вычислитель(агент), который может получить от оркестратора задачу, выполнить его и вернуть серверу результат.

``` mermaid
graph TD;
    Client[Клиент] -->|Отправляет выражение| Orchestrator[Оркестратор];
    Orchestrator -->|Разбивает на задачи| Orchestrator;
    Orchestrator -->|Распределяет задачи| Agent1[Агент 1];
    Orchestrator -->|Распределяет задачи| Agent2[Агент 2];
    Orchestrator -->|Распределяет задачи| AgentN[Агент N];
    Agent1 -->|Возвращает результаты| Orchestrator;
    Agent2 -->|Возвращает результаты| Orchestrator;
    AgentN -->|Возвращает результаты| Orchestrator;
    Orchestrator -->|Возвращает итоговый результат| Client;
```
## Установка

Склонируйте репозиторий на локальный компьютер:

```bash
git clone https://github.com/Komissarich/Golang_ArithmeticParser
cd Golang_ArithmeticParser
```

## Запуск

```bash
go run ./cmd
```
**Зайдите в ваш браузер и введите localhost:8080**

## Работа
Для начала необходимо либо войти в аккаунт, либо зарегистрироваться, если вы запустили приложение первый раз
![image](https://github.com/user-attachments/assets/c9c01192-c00f-4fdd-867f-e96e6bfcd505)

Регистрация
![image](https://github.com/user-attachments/assets/963ebf0a-b5c5-499d-863c-58ad7d4502a5)
После входа в аккаунт вы увидите страницу с калькулятором
![image](https://github.com/user-attachments/assets/41c5d3a6-1a5d-417f-924d-57f819762d6f)

Вы можете вводить арифметические выражения используя кнопки на калькуляторе. После набора выражения, нажмите =, для отправки выражения на сервер.
Вы можете убедиться, что сервер получил ваш запрос, если нажмете Receive с указанием All expression. 

![image](https://github.com/user-attachments/assets/6392f91d-adb5-4c9e-9069-a3ebdd8c1d24)


Если вы введете некорректное выражение, то его статус будет обозначен как "Error in expression". Такое выражение вычисляться не будет.

![image](https://github.com/user-attachments/assets/c5e05ec5-fc26-42be-b75e-18583ac4ea3b)


После вычисления всех операций, статус выражения станет "Solved" и в поле result будет указано значение.
![image](https://github.com/user-attachments/assets/c5726535-ff61-4037-9fc2-d23e3b1501be)


Также, вы можете отслеживать какие задачи были созданы, статус их выполнения, если выберите All Tasks.
![image](https://github.com/user-attachments/assets/3aa0a20a-3c5a-413a-b629-3e08dbb4089b)


Задачи назначаются оркестратором с задержкой в 5 секунд, так что для обновления просто снова нажимайте Receive.

Также вы можете обратиться к конкретному выражению по его id. 
Для этого выберите One expression и введите в появившееся поле id.

![image](https://github.com/user-attachments/assets/55986c08-475d-4266-8d7c-ae773568aa03)


## Конфигурирование
Все необходимые значения находятся в папке config в файле config.yaml. Вы можете менять их по своему усмотрению.
![image](https://github.com/user-attachments/assets/c1df1203-4e3e-4168-909c-2855f84b43f9)
